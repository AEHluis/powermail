{namespace vh=Tx_Powermail_ViewHelpers}
<f:layout name="Default" />

Render Powermail_Frontend List View
{mails} 			Mail Objects



<f:section name="main">
	<f:flashMessages class="powermail_message powermail_message_error" />

	<div class="powermail_frontend">

		<f:render partial="Output/Search" arguments="{mails: mails, piVars: piVars, abc: abc}" />

		<f:if condition="{mails}">
			<f:then>
				<table class="powermail_frontend_list">
					<f:for each="{mails}" as="mail" iteration="index">

						<f:if condition="{index.isFirst}">
							<tr>
								<th>(<f:count subject="{mails}" />)</th>
								<f:for each="{fields}" as="field">
									<th><vh:GetFieldLabelFromUid uid="{field}" /></th>
								</f:for>
								<th></th>
							</tr>
						</f:if>

						<tr>
							<td><span title="{mail.uid}">{index.cycle}.</span></td>
							<f:for each="{fields}" as="field">
								<td>
									<f:for each="{mail.answers}" as="answer">
										<f:if condition="{answer.field} == {field}">
											{answer.value}
										</f:if>
									</f:for>
								</td>
							</f:for>
							<td>
								<f:link.action action="show" arguments="{mail : mail}">Detail</f:link.action>
							</td>
						</tr>

					</f:for>
				</table>
			</f:then>
			<f:else>
				<p>
					<f:translate key="BackendListNoMails" /><br />
					<f:translate key="PowermailFrontendNoMailsDetail" />
				</p>
			</f:else>
		</f:if>

	</div>
</f:section>